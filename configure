#!/bin/sh

prefix=/usr/local
version=0.0

while : ; do
  case "$1" in
    "") break;;

    --prefix)
	prefix=$2; shift;;
    --prefix=*)
	prefix=`expr "$1" : '--[^=]*=\(.*\)'`;;
  esac
  shift
done

cat > config <<ENDOFFILE
# # # THIS FILE IS GENERATED AUTOMATICALLY BY CONFIGURE # # #

LIBDIR := ${prefix}/lib/websocketml

OCAMLC    := ocamlc
OCAMLOPT  := ocamlopt
OCAMLRUN  := ocamlrun
OCAMLDEP  := ocamldep
OCAMLFIND := ocamlfind

%.cmi : %.mli
	\$(OCAMLC) -c -o \$@ \$(OCAMLFLAGS) \$(INCLUDES) \$<
%.cmo %.cmi: %.ml
	\$(OCAMLC) -c -o \$@ \$(OCAMLFLAGS) \$(INCLUDES) \$<
%.cmx %.cmi: %.ml
	\$(OCAMLOPT) -c -o \$@ \$(OCAMLFLAGS) \$(INCLUDES) \$<
ENDOFFILE
